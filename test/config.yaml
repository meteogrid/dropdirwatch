pluginDirs:
  - test/plugins
env:
  +PATH: /opt/foo 
  FOO: bar
watchers:
  - name: evalSingleLine
    paths:
      - /lala
      - /lolo
    preprocessor:
      imports:
        - Prelude as P
      eval: yieldFileName . modifyBaseName ("foo_" P.++)
  - name: importPlugin
    paths:
      - /lala
      - /lolo
    preprocessor:
      plugin: Plugin:addPrefix
      prefix: foo
  - name: evalMultiLine
    paths:
      - /lala
      - /lolo
    preprocessor:
      imports:
        - Prelude
      eval: \filename ->
              let {
                foo="bar";
                bar="foo"
              } in
                case filename of {
                  "lala" -> yieldFilePath foo;
                  "lolo" -> yieldFilePath bar;
                }
  - name: shell
    paths:
      - /lala
      - /lolo
    processor:
      shell:
        - scp $FILENAME $BAR
  - name: evalNoImports
    paths:
      - /lala
      - /lolo
    preprocessor:
      eval: yieldFileName . modifyBaseName ("foo_" ++)

  - name: noPreprocessor
    paths:
      - /lala
      - /lolo
