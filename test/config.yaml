pluginDirs:
  - test/plugins
env:
  +PATH: /opt/foo 
  FOO: bar
watchers:
  - name: evalSingleLine
    paths:
      - lala
      - lolo
    preprocessor:
      eval:
        filename ->
          [ (modifyBaseName filename ("foo_"++), Nothing)
          , (modifyBaseName filename ("bar_"++), Nothing)
          ]
  - name: importPlugin
    paths:
      - lala
      - lolo
    preprocessor:
      import: Plugin:addPrefix
      prefix: foo
  - name: evalMultiLine
    paths:
      - lala
      - lolo
    preprocessor:
      eval: filename ->
              let {
                foo="bar";
                bar="foo"
              } in
                case filename of {
                  "lala" -> [(foo, Nothing)];
                  "lolo" -> [(bar, Nothing)];
                }
  - name: shell
    paths:
      - lala
      - lolo
    processor:
      shell:
        - scp $FILENAME $BAR
