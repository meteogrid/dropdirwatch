pluginDirs:
  - test/plugins
env:
  +PATH: /opt/foo 
  FOO: bar
watchers:
  - name: evalSingleLine
    paths:
      - lala
      - lolo
    preprocessor:
      eval:
        filename content ->
          [ (replaceBaseName filename "foo_", content)
          , (replaceBaseName filename "bar_", content)
          ]
  - name: importPlugin
    paths:
      - lala
      - lolo
    preprocessor:
      import: Plugin:addPrefix
      prefix: foo
  - name: evalMultiLine
    paths:
      - lala
      - lolo
    preprocessor:
      eval: filename content ->
              let {
                foo="bar";
                bar="foo"
              } in
                case filename of {
                  "lala" -> [(foo, content)];
                  "lolo" -> [(bar, content)];
                }
  - name: shell
    paths:
      - lala
      - lolo
    handlers:
      - shell:
          - scp $FILENAME $BAR
